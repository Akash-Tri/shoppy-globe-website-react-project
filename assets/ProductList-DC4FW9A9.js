import{u,j as t,L as h,a as m,r as o}from"./index-CJIK_wgq.js";function p({product:s}){const a=u();function r(){a(m(s))}return t.jsxs("div",{className:"product-item",children:[t.jsxs(h,{className:"product-link",to:`/product/${s.id}`,children:[t.jsx("img",{src:s.thumbnail,alt:s.title}),t.jsx("h3",{children:s.title}),t.jsxs("div",{className:"price",children:["$",s.price.toFixed(2)]})]}),t.jsx("button",{className:"add-btn",onClick:r,children:"Add to Cart"})]})}function f(){const[s,a]=o.useState([]),[r,c]=o.useState(!0),[n,d]=o.useState(null);return o.useEffect(()=>{async function e(){c(!0);try{const i=await fetch("https://dummyjson.com/products");if(!i.ok)throw new Error("Failed to fetch products");const l=await i.json();a(l.products)}catch(i){d(i.message)}finally{c(!1)}}e()},[]),{products:s,loading:r,error:n}}function j(){const{products:s,loading:a,error:r}=f(),[c,n]=o.useState(""),d=s.filter(e=>e.title.toLowerCase().includes(c.toLowerCase()));return a?t.jsx("div",{className:"product-list-container",children:"Loading products..."}):r?t.jsxs("div",{className:"product-list-container",children:["Error: ",r]}):t.jsxs("div",{className:"product-list-container",children:[t.jsx("input",{type:"search",className:"search-input",placeholder:"Search products...",value:c,onChange:e=>n(e.target.value),"aria-label":"Search products"}),t.jsx("div",{className:"product-list",children:d.map(e=>t.jsx(p,{product:e},e.id))})]})}export{j as default};
